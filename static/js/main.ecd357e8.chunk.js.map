{"version":3,"sources":["images/google_logo.png","components/twmap/TwMap.tsx","lib/mapApi.ts","components/searchfield/SearchInput.tsx","components/searchfield/SearchList.tsx","components/selectedfield/TripPlaceList.tsx","pages/MainPage.tsx","serviceWorker.ts","modules/counter.ts","modules/search.ts","modules/index.ts","index.tsx","shared/App.tsx"],"names":["module","exports","blueIcon","L","Icon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","redIcon","greenIcon","yellowIcon","TwMap","searchResult","placeList","lines","clickedIndex","tpClickedIndex","useState","center","zoom","viewport","setViewport","wayPoints","useEffect","length","lat","geometry","coordinates","lng","idx","console","log","Map","id","onzoomend","e","target","_lastCenter","_zoom","TileLayer","attribution","url","subdomains","GeoJSON","key","hash","forEach","element","getLinesHash","data","map","point","Marker","position","location","Popup","icon","zIndexOffset","riseOnHover","name","properties","namedetails","Tooltip","direction","offset","permanent","src","require","alt","getTripRoute","locations","a","uri","latLng","substr","axios","get","response","getSearchResult","query","useStyles","makeStyles","theme","createStyles","root","padding","display","alignItems","width","minWidth","input","marginLeft","spacing","flex","iconButton","divider","height","margin","SearchInput","setSearchResult","classes","setInput","handleKeyDown","preventDefault","mapApi","result","features","handleClick","Paper","component","className","onKeyDown","InputBase","placeholder","inputProps","onChange","value","IconButton","type","aria-label","onClick","useStyles1","flexShrink","TablePaginationActions","props","useTheme","count","page","rowsPerPage","onChangePage","event","disabled","Math","ceil","max","useStyles2","table","tableContainer","tableRow","backgroundColor","tableCell","color","hover","SearchList","setClickedIndex","selected","setSelected","setPage","rows","setRows","setRowsPerPage","emptyRows","min","searchResultNames","index","setList","TableContainer","Table","TableBody","slice","row","isItemSelected","indexOf","labelId","TableRow","TableCell","Checkbox","checked","selectedIndex","newSelected","concat","scope","style","colSpan","TableFooter","TablePagination","rowsPerPageOptions","newPage","onChangeRowsPerPage","parseInt","ActionsComponent","TripPlaceList","tripPlaceList","selectedListNames","MainPage","searchSelected","setSearchSelected","setTripPlaceList","tripPlaceSelected","settripPlaceSelected","setTpClickedIndex","setLines","drawPath","waypoints","temp","trips","Button","variant","selectedList","push","role","newList","place","Boolean","window","hostname","match","counter","createAction","createReducer","state","action","payload","search","rootReducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","path","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ecd357e8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAaCAYAAAADiYpyAAAH4ElEQVR4Ae1YA3gkyxbOs23b5rVXV+u9Xl+ubdtG1t7YXNt2jMVYyUx7Onnnn+mT229ev8m1831/evrUX3Wq/jp1qqoT4v999PfRX2Nj49caGhqe03V9MSHRAoup/GnClwkJ7wH8mfq0IhZkH/562ok13MYCaIQjZeGMxD3ywdl50snlO6XD+6+qWZqmrzIEmU/8P77LImDi/mo1YVQ28o0K8SA3knxE3tlxkRB4cHqoMRawZ59WCg0ulL/tvSBESllR4b+SOje0zevjfDNC/I4qr8Rsj0sVL/GgH58bFAZtEUonponnh24VSvHOZTlnlAI4RD3qzHcJCe8GWIjk0sKifyZ3amyb85LrjQiBhj5BFaeh8sxc6VRkoNPqG+YXysdFWV8NOwPvc/OlE6OTxcu8RBBJMTP0cQhDv39hCPSxOINo4hK+0wz3U8T5EeFnhC+wv2aEYM5XCD+FL/i0ah/Ef6Hi+Wo15SESAEIgL/BsU3lfQifCK1gKLIqFCJ8DD7nDxAHmkaP2hM+aHH+euJ2pbEFzXCRlI3kvMfFWEhYCsMcR4t+ECTE+FqCfZh8sxMsgYJYhQtdE0a5FKyylsp7IvgyyzY3ZPbhsCL3PiNg1LVEqubJN2r8zC08TfyrxvkX4XhNX1xJV/8ltujM1S6078z9c6uCP2Sci8CxN1oFramZA0NfCxrASAmJxmea4tUE5ciBDunJxO/oHG7U9CZHSJAQZZ6Kgw8Jocly9Vz5gKNqO8Bh+v1aINHj3M23drof+1cjwPNvWJR7Yk8kDZH9hOw3+8M/d2u5PNTLUw79yhZ2ZzJ3GIiAfdZgfquP81Gp2UBlLuaw1PV9aG6y1FAJwu9Z7B79Q5njo3w3cH/ez7dzSmROpHDW8VBI43B+cUa/Dye5LSrZB+hULsWafvL/rStFuhcKzSh44iABni9vCEYdd2gS8A3pVuDq2DuAddnH/nizuICJA2fO5cGTwB38Q0E7eU6Ee+F4A77CH7RlN3KxTStGDxpJ9crHg6bcxVPnonKDIovRYIdgshRDF1d6uHRwR/23uVrwDXyz39Oh8C+/uR++W1PLSrcY47yBEhFgGw0PT68NoeNdFNccg/I6FmJkjnkaZFSASws395CMeOPGPHHhFl+VIIsXTP7zPNdgRKeBFlsPBn3kwaO3co1d0LcrFUzvb5hrsiBTwkJwfnxcMwQ/6oBnieOu19c8uF1zxhAitS9wXiciOLerV6ootsGnB4BrfC0/dgN039OVSY5xjWIjJMEBtNLy4WD5qEJ5jIUps6radF5RcM55cHIrwU47KO6TLF5Iiyre+TdMCvrVG/QF4ahSejha36yiXrl3crvqPJ2Gwyq7Pa7rsZu4gPHXh1nqKCB3lqv/EdkQbfLSdHwzJ0V1qOXISL5d4Qnj79KiCz8CKBYfgt27KyHOIBNhcj94l100bc5ajDrkIybIbXmZkiWf4wCSq+mpjxxjHZDOQrFrPDKrgX7uhbhd3FeREl0RrvykXJHBSdHVoUYdycVdxTti2LcdYEpZcdf/36lAetiXlrD8g74WP3qvFm4ZgQwjfwO9yu7o1rhDdOjq4T64W/47mq67tnKFNq/dqgYA52U6jNv8AIX4Dw02XuglJCI3jUKWBZAHYx6eLF8DrukxwwvZqRNyuGU5W8m6keb3rOHeAp/qORiNi9xcoIrwmLpaSYx3nDkROwRklH37aLwjVG+eWZRw9iMrmIoKj1EfLUzp6MN1iPHNxNjGfLIehYPtheRev/X4bhcrLN9Qkc8Uqp7pl0JZQKR+6OLFGc8SjXjgOjBt8ybzukTNgdz/1mPfVHPFTLwYbvtDxv7jIGbBTDvGCFxT1NY8YiXFhkXTMHJHdV4i2eELU0cxH/La9X1CrojkCkM6fSfH06VqNSTFsWG63sxDfJsMiFCAcOXECnRcLfjjrvCjke8iwPUQ7zJaD8h7wGQh7R4vbdB60b2ifEhYHdnHfjmzmIuyV3Z/VedDa6ZYlLA7sYVtKtvnew33pulxwDNkmlLSdFwo2t2sgUXt6dLE17RoDXij39utV6WwZjU5ECXgYN5YbRGD8hm+eF2vUpEGbhbIWM6KCMHDyfHFdqOZEhZpmNLKQ6v2enrPxLu4uzubBM/AOu8GfwdywLTmbB8/AO+xGApvF/ck4qRQ/bhp861n12shtwlX87p4o3rISgpcldi1HCz5HRJdKAIlSlleDw5dGFoHxA8J4bgiheaRMzcBaxRUc25YpCiaDz/XQcV4m0sVzSeLO/Fw88c4iGPeKH7IYCH/VdyhJt23JxRPvsPNMmfMSdo3j5Wr6rotKjjeorcP5AkL0WReqZp4Z5uuAar+1Ef1B1EIc0/WhleX3CL40GYeM4ebGGNhJCA8Q75MxF5cvkv0p0wAYC6isC+Hzr4G70OD+g23IDTj1nq5SU81c3IohxOx86SQPLPbDDNqx2PkgwFDCr62u4ZYwLiY/xrLB7Y1vfc3U+QQiBHXwtLjtMZj7w//DnYSOj08TL2LAlDSluQXSiU0Hlb0DNgsVsLWiJYIEbiyln8fx81XjpIxb7pfif5h57+EvfPXn2WfwfYM/EGHXe7P+8O+9jHYc0vhsiE+Gk9PFczjW2/3qRj4L0Ix/881+4MG/9zIgxp34TmGRDPmk+S2I9kGPCM47nyL8FXcfQgfCg7xjAW+hEB/hPyeOCUJomNl0AAAAAElFTkSuQmCC\"","import React, { ReactElement, Fragment, useState, useEffect, createRef } from 'react'\r\nimport { Map, TileLayer, Marker, Popup, GeoJSON, LayersControl, Point, Tooltip } from 'react-leaflet';\r\nimport './twmap.scss';\r\nimport L from 'leaflet'\r\nimport { GeoJsonObject } from 'geojson';\r\n\r\nconst blueIcon = new L.Icon({\r\n    iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst redIcon = new L.Icon({\r\n    iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst greenIcon = new L.Icon({\r\n    iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\nconst yellowIcon = new L.Icon({\r\n    iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png',\r\n    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\r\n    iconSize: [25, 41],\r\n    iconAnchor: [12, 41],\r\n    popupAnchor: [1, -34],\r\n    shadowSize: [41, 41]\r\n});\r\n\r\ntype Viewport = {\r\n    center: L.LatLngTuple,\r\n    zoom: number,\r\n}\r\ninterface Props {\r\n    searchResult: any[];\r\n    placeList: any[];\r\n    clickedIndex: number;\r\n    // setClickedIndex: React.Dispatch<React.SetStateAction<number>>;\r\n    tpClickedIndex: number;\r\n    // setTpClickedIndex: React.Dispatch<React.SetStateAction<number>>;\r\n    lines: any;\r\n}\r\ninterface State {\r\n    viewport: Viewport;\r\n    lines: any;\r\n    wayPoints: any[];\r\n}\r\n\r\n\r\n\r\nexport default function TwMap({ searchResult, placeList, lines, clickedIndex, tpClickedIndex }: Props): ReactElement {\r\n    const [searchLocations, setSearchLocations] = useState<Object[]>([]);\r\n    const [viewport, setViewport] = useState({ center: [37.497781, 126.994194] as L.LatLngTuple, zoom: 13 });\r\n    const [wayPoints, setWayPoints] = useState([]);\r\n    useEffect(() => {\r\n        if (searchResult.length > 0) {\r\n            const zoom = 13;\r\n            const lat = searchResult[0].geometry.coordinates[1];\r\n            const lng = searchResult[0].geometry.coordinates[0];\r\n            setViewport({ zoom: zoom, center: [lat, lng] });\r\n        }\r\n        return () => {\r\n            // clean up\r\n        }\r\n    }, [searchResult]);\r\n    useEffect(() => {\r\n        if (searchResult.length > 0) {\r\n            const idx = clickedIndex >= 0 ? clickedIndex : 0;\r\n            const lat = searchResult[idx].geometry.coordinates[1];\r\n            const lng = searchResult[idx].geometry.coordinates[0];\r\n            setViewport({ zoom: viewport.zoom, center: [lat, lng] });\r\n        }\r\n        return () => {\r\n            // clean up\r\n        }\r\n    }, [clickedIndex]);\r\n\r\n    const renderMarkers = (wayPoints: any[]) => {\r\n        wayPoints.map((point: any, idx) =>\r\n            <Marker key={`marker-${idx}`} position={point.location}>\r\n            </Marker>\r\n        )\r\n    }\r\n\r\n    const handleMarkerClick = () => {\r\n        console.log(\"클릭\");\r\n    }\r\n    // const refmarker = createRef<Marker>();\r\n    // const updatePosition = () => {\r\n    //     const marker = refmarker.current\r\n    //     if (marker != null) {\r\n    //         console.log(marker.leafletElement.getLatLng());\r\n    //     }\r\n    // }\r\n    const handleZoom = (e: any) => {\r\n        setViewport({ center: [e.target._lastCenter.lat, e.target._lastCenter.lng], zoom: e._zoom });\r\n    }\r\n    const getLinesHash = (lines: any) => {\r\n        let hash = 0;\r\n        console.log(lines);\r\n        lines.coordinates.forEach((element: any) => {\r\n            hash += element[0] + element[1];\r\n        })\r\n        return hash;\r\n    }\r\n    return (\r\n        <div>\r\n            {console.log(lines)}\r\n            <Fragment>\r\n                <Map id='tw-map' viewport={viewport} onzoomend={handleZoom}>\r\n                    <TileLayer\r\n                        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                        // url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                        url='http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}' // lyrs= m : normal map, s : Satellite, h : hybrid, p : Terrain\r\n                        subdomains={['mt0', 'mt1', 'mt2', 'mt3']}\r\n                    />\r\n                    {typeof lines.coordinates != 'undefined' && <GeoJSON key={getLinesHash(lines)} data={lines} />}\r\n                    {/* {this.renderMarkers(wayPoints)} */}\r\n                    {wayPoints.map((point: any, idx) =>\r\n                        <Marker key={`marker-${idx}`} position={point.location}>\r\n                            <Popup>\r\n                                A pretty CSS3 popup. <br /> Easily customizable.\r\n                            </Popup>\r\n                        </Marker>\r\n                    )}\r\n                    {searchResult.map((element, idx) => {\r\n                        if (idx === clickedIndex) {\r\n                            return <Marker key={`search-marker-${idx}`}\r\n                                position={[element.geometry.coordinates[1], element.geometry.coordinates[0]]}\r\n                                icon={redIcon}\r\n                                zIndexOffset={1000}\r\n                                riseOnHover\r\n                            >\r\n                            </Marker>\r\n                        } else {\r\n                            return <Marker key={`search-marker-${idx}`}\r\n                                position={[element.geometry.coordinates[1], element.geometry.coordinates[0]]}\r\n                                icon={blueIcon}\r\n                                zIndexOffset={0}\r\n                                riseOnHover>\r\n                            </Marker>\r\n                        }\r\n                    })}\r\n                    {placeList.map((element, idx) => {\r\n                        let name = element.properties.namedetails['name:ko'];\r\n                        if (typeof name === 'undefined') {\r\n                            name = element.properties.namedetails['name'];\r\n                        }\r\n                        if (typeof name === 'undefined') {\r\n                            name = element.properties.namedetails[0];\r\n                        }\r\n                        if (idx === tpClickedIndex) {\r\n                            console.log(\"좌표\", element);\r\n\r\n                            return <Marker key={`place-marker-${idx}`}\r\n                                position={[element.geometry.coordinates[1], element.geometry.coordinates[0]]}\r\n                                icon={yellowIcon}\r\n                                zIndexOffset={1000}\r\n                                riseOnHover\r\n                            >\r\n                                <Tooltip direction=\"top\" offset={[0, -40]} permanent>\r\n                                    {name}\r\n                                </Tooltip>\r\n                            </Marker>\r\n                        } else {\r\n                            return <Marker key={`place-marker-${idx}`}\r\n                                position={[element.geometry.coordinates[1], element.geometry.coordinates[0]]}\r\n                                icon={greenIcon}\r\n                                zIndexOffset={0}\r\n                                riseOnHover>\r\n                                <Tooltip direction=\"top\" offset={[0, -40]} permanent>\r\n                                    {name}\r\n                                </Tooltip>\r\n                            </Marker>\r\n                        }\r\n                    })}\r\n                </Map>\r\n                <img id=\"google-logo\" src={require(\"images/google_logo.png\")} alt=\"powered by google\" />\r\n            </Fragment>\r\n        </div >\r\n    )\r\n}\r\n\r\n// export default class TwMap extends Component<Props, State> {\r\n//     state = {\r\n//         viewport: {\r\n//             center: [37.497781, 126.994194] as L.LatLngTuple,\r\n//             zoom: 13\r\n//         },\r\n//         lines: {} as any,\r\n//         wayPoints: []\r\n//     }\r\n\r\n//     async componentDidMount() {\r\n\r\n//     }\r\n\r\n//     render() {\r\n//         const viewport = this.state.viewport;\r\n//         const { lines, wayPoints } = this.state;\r\n//         return (\r\n\r\n//         )\r\n//     }\r\n// }\r\n","import axios from 'axios';\r\n\r\nexport const getTripRoute = async (locations: number[][]) => {\r\n    let uri = 'https://cors-anywhere.herokuapp.com/http://router.project-osrm.org/trip/v1/driving/';\r\n    locations.forEach((latLng: number[]) => {\r\n        uri += `${latLng[0]},${latLng[1]};`;\r\n    })\r\n    uri = uri.substr(0, uri.length - 1);\r\n    uri += '?geometries=geojson&source=first&destination=last&roundtrip=false';\r\n    // 파라미터는 다음 주소를 참고\r\n    // http://project-osrm.org/docs/v5.10.0/api/?language=JavaScript#trip-service\r\n    const response = await axios.get(uri);\r\n    return response.data;\r\n}\r\n\r\nexport const getSearchResult = async (query: string) => {\r\n    const uri = `https://nominatim.openstreetmap.org/search?format=geojson&addressdetails=1&extratags=1&namedetails=1&accept-language=ko-kr&q=${query}`;\r\n    const response = await axios.get(uri);\r\n    // console.log(response, response.data);\r\n    return response.data;\r\n}","import React, { ReactElement, useState } from 'react'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport * as mapApi from 'lib/mapApi';\r\nimport useSearch from 'hooks/useSearch';\r\n\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            padding: '2px 4px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            width: '30vw',\r\n            minWidth: '323px'\r\n        },\r\n        input: {\r\n            marginLeft: theme.spacing(1),\r\n            flex: 1,\r\n        },\r\n        iconButton: {\r\n            padding: 10,\r\n        },\r\n        divider: {\r\n            height: 28,\r\n            margin: 4,\r\n        },\r\n    }),\r\n);\r\n\r\ninterface Props {\r\n    id?: string;\r\n    setSearchResult: (arg1: Object[]) => void;\r\n}\r\n\r\nexport default function SearchInput({ id, setSearchResult }: Props): ReactElement {\r\n    const classes = useStyles();\r\n    const [input, setInput] = useState(\"\");\r\n    // const { onSearch } = useSearch(); // redux 사용\r\n\r\n    const handleKeyDown = async (e: any) => {\r\n        if (e.key === 'Enter') {\r\n            e.preventDefault();\r\n            // onSearch(e.target.value); // redux 사용\r\n            const result = await mapApi.getSearchResult(input);\r\n            setSearchResult(result.features);\r\n        }\r\n    }\r\n\r\n    const handleClick = async (e: any) => {\r\n        e.preventDefault();\r\n        const result = await mapApi.getSearchResult(input);\r\n        setSearchResult(result.features);\r\n    }\r\n    const handleChange = (e: any) => {\r\n        setInput(e.target.value);\r\n    }\r\n    return (\r\n        <Paper id={id} component=\"form\" className={classes.root} onKeyDown={handleKeyDown}>\r\n            <InputBase\r\n                className={classes.input}\r\n                placeholder=\"장소를 입력하세요.\"\r\n                inputProps={{ 'aria-label': 'search place' }}\r\n                onChange={handleChange}\r\n            />\r\n            <IconButton type=\"submit\" className={classes.iconButton} aria-label=\"search\" onClick={handleClick}>\r\n                <SearchIcon />\r\n            </IconButton>\r\n        </Paper>\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport useSearch from 'hooks/useSearch';\r\nimport './searchlist.scss';\r\n\r\nconst useStyles1 = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexShrink: 0,\r\n            marginLeft: theme.spacing(2.5),\r\n        },\r\n    }),\r\n);\r\n\r\ninterface TablePaginationActionsProps {\r\n    count: number;\r\n    page: number;\r\n    rowsPerPage: number;\r\n    onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\r\n}\r\n\r\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\r\n    const classes = useStyles1();\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n    const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, 0);\r\n    };\r\n\r\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, page - 1);\r\n    };\r\n\r\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, page + 1);\r\n    };\r\n\r\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n            </IconButton>\r\n            <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n                {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleNextButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n            </IconButton>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction createData(name: string) {\r\n    return { name };\r\n}\r\n\r\nconst useStyles2 = makeStyles({\r\n    table: {\r\n        minWidth: '323px',\r\n    },\r\n    tableContainer: {\r\n        padding: '2px 4px',\r\n        width: '30vw',\r\n        minWidth: '323px'\r\n    },\r\n    tableRow: {\r\n        \"&$hover:hover\": {\r\n            backgroundColor: \"blue\"\r\n        }\r\n    },\r\n    tableCell: {\r\n        \"$hover:hover &\": {\r\n            color: \"pink\"\r\n        }\r\n    },\r\n    hover: {}\r\n});\r\n\r\ninterface Props {\r\n    id?: string;\r\n    searchResult: Object[];\r\n    clickedIndex: number;\r\n    setClickedIndex: React.Dispatch<React.SetStateAction<number>>;\r\n    selected: number[];\r\n    setSelected: React.Dispatch<React.SetStateAction<number[]>>;\r\n}\r\n\r\nexport default function SearchList({ id, searchResult, clickedIndex, setClickedIndex, selected, setSelected }: Props) {\r\n    // const { searchResult } = useSearch(); // redux 적용할때 사용하기\r\n    const classes = useStyles2();\r\n    const [page, setPage] = useState(0);\r\n    const [rows, setRows] = useState<{ index: number, name: string }[]>([]);\r\n    const [rowsPerPage, setRowsPerPage] = useState(5);\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n\r\n    const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\r\n        setPage(newPage);\r\n    };\r\n    const handleChangeRowsPerPage = (\r\n        event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n    ) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    // 클릭했을때 선택하는 코드\r\n    const isSelected = (index: number) => selected.indexOf(index) !== -1;\r\n    const handleClick = (event: React.MouseEvent<unknown>, index: number) => {\r\n        const selectedIndex = selected.indexOf(index);\r\n        let newSelected: number[] = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, index);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    // 검색결과 바뀌었을때 리스트에 뿌려주는 코드\r\n    const setList = (searchResult: Object[]) => {\r\n        const searchResultNames = searchResult.map((element: any, idx: number) => {\r\n            let name = element.properties.namedetails[\"name:ko\"];\r\n            if (typeof name === 'undefined') {\r\n                name = element.properties.namedetails[\"name\"];\r\n            }\r\n            return { index: idx, name: name };\r\n        })\r\n        console.log(searchResultNames);\r\n        setRows(searchResultNames);\r\n    }\r\n    useEffect(() => {\r\n        setPage(0);\r\n        setList(searchResult);\r\n    }, [searchResult]); // searchResult가 바뀔 때만 effect를 재실행합니다.\r\n\r\n    return (\r\n        <TableContainer className={classes.tableContainer} component={Paper} id={id}>\r\n            <Table className={classes.table} aria-label=\"custom pagination table\">\r\n                <TableBody>\r\n                    {(rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    ).map(row => {\r\n                        const isItemSelected = isSelected(row.index);\r\n                        const labelId = `enhanced-table-checkbox-${row.index}`;\r\n                        return <TableRow key={row.index}\r\n                            onClick={() => { setClickedIndex(row.index) }}\r\n                            selected={row.index === clickedIndex}\r\n                            hover\r\n                            classes={{ hover: classes.hover }}>\r\n                            <TableCell padding=\"checkbox\">\r\n                                <Checkbox\r\n                                    checked={isItemSelected}\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                    onClick={(event) => { handleClick(event, row.index); }}\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\" >\r\n                                <span className=\"search-list-name\">{row.name}</span>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    })}\r\n                    {emptyRows > 0 && (\r\n                        <TableRow style={{ height: 53 * emptyRows }}>\r\n                            <TableCell colSpan={6} />\r\n                        </TableRow>\r\n                    )}\r\n                </TableBody>\r\n                <TableFooter>\r\n                    <TableRow>\r\n                        <TablePagination\r\n                            colSpan={3}\r\n                            count={rows.length}\r\n                            rowsPerPage={rowsPerPage}\r\n                            rowsPerPageOptions={[]}\r\n                            page={page}\r\n                            onChangePage={handleChangePage}\r\n                            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            ActionsComponent={TablePaginationActions}\r\n                        />\r\n                    </TableRow>\r\n                </TableFooter>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles, useTheme, Theme, createStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableFooter from '@material-ui/core/TableFooter';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport useSearch from 'hooks/useSearch';\r\nimport './tripplacelist.scss';\r\n\r\nconst useStyles1 = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n            flexShrink: 0,\r\n            marginLeft: theme.spacing(2.5),\r\n        },\r\n    }),\r\n);\r\n\r\ninterface TablePaginationActionsProps {\r\n    count: number;\r\n    page: number;\r\n    rowsPerPage: number;\r\n    onChangePage: (event: React.MouseEvent<HTMLButtonElement>, newPage: number) => void;\r\n}\r\n\r\nfunction TablePaginationActions(props: TablePaginationActionsProps) {\r\n    const classes = useStyles1();\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n    const handleFirstPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, 0);\r\n    };\r\n\r\n    const handleBackButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, page - 1);\r\n    };\r\n\r\n    const handleNextButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, page + 1);\r\n    };\r\n\r\n    const handleLastPageButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <IconButton\r\n                onClick={handleFirstPageButtonClick}\r\n                disabled={page === 0}\r\n                aria-label=\"first page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <LastPageIcon /> : <FirstPageIcon />}\r\n            </IconButton>\r\n            <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n                {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleNextButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"next page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </IconButton>\r\n            <IconButton\r\n                onClick={handleLastPageButtonClick}\r\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n                aria-label=\"last page\"\r\n            >\r\n                {theme.direction === 'rtl' ? <FirstPageIcon /> : <LastPageIcon />}\r\n            </IconButton>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction createData(name: string) {\r\n    return { name };\r\n}\r\n\r\nconst useStyles2 = makeStyles({\r\n    table: {\r\n        minWidth: '323px',\r\n    },\r\n    tableContainer: {\r\n        padding: '2px 4px',\r\n        width: '30vw',\r\n        minWidth: '323px'\r\n    },\r\n    tableRow: {\r\n        \"&$hover:hover\": {\r\n            backgroundColor: \"blue\"\r\n        }\r\n    },\r\n    tableCell: {\r\n        \"$hover:hover &\": {\r\n            color: \"pink\"\r\n        }\r\n    },\r\n    hover: {}\r\n});\r\n\r\ninterface Props {\r\n    id?: string;\r\n    clickedIndex: number;\r\n    setClickedIndex: React.Dispatch<React.SetStateAction<number>>;\r\n    tripPlaceList: Object[];\r\n    selected: number[];\r\n    setSelected: React.Dispatch<React.SetStateAction<number[]>>;\r\n}\r\n\r\nexport default function TripPlaceList({ id, clickedIndex, setClickedIndex, tripPlaceList, selected, setSelected }: Props) {\r\n    // const { searchResult } = useSearch(); // redux 적용할때 사용하기\r\n    const classes = useStyles2();\r\n    const [page, setPage] = useState(0);\r\n    const [rows, setRows] = useState<{ index: number, name: string }[]>([]);\r\n    const [rowsPerPage, setRowsPerPage] = useState(5);\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n\r\n    const handleChangePage = (event: React.MouseEvent<HTMLButtonElement> | null, newPage: number) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (\r\n        event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n    ) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    // 클릭했을때 선택하는 코드\r\n    const isSelected = (index: number) => selected.indexOf(index) !== -1;\r\n    const handleClick = (event: React.MouseEvent<unknown>, index: number) => {\r\n        const selectedIndex = selected.indexOf(index);\r\n        let newSelected: number[] = [];\r\n\r\n        if (selectedIndex === -1) {\r\n            newSelected = newSelected.concat(selected, index);\r\n        } else if (selectedIndex === 0) {\r\n            newSelected = newSelected.concat(selected.slice(1));\r\n        } else if (selectedIndex === selected.length - 1) {\r\n            newSelected = newSelected.concat(selected.slice(0, -1));\r\n        } else if (selectedIndex > 0) {\r\n            newSelected = newSelected.concat(\r\n                selected.slice(0, selectedIndex),\r\n                selected.slice(selectedIndex + 1),\r\n            );\r\n        }\r\n\r\n        setSelected(newSelected);\r\n    };\r\n\r\n    // 검색결과 바뀌었을때 리스트에 뿌려주는 코드\r\n    const setList = (tripPlaceList: Object[]) => {\r\n        const selectedListNames = tripPlaceList.map((element: any, idx: number) => {\r\n            let name = element.properties.namedetails[\"name:ko\"];\r\n            if (typeof name === 'undefined') {\r\n                name = element.properties.namedetails[\"name\"];\r\n            }\r\n            return { index: idx, name: name };\r\n        })\r\n        setRows(selectedListNames);\r\n    }\r\n    useEffect(() => {\r\n        setPage(0);\r\n        setList(tripPlaceList);\r\n    }, [tripPlaceList]); // searchResult가 바뀔 때만 effect를 재실행합니다.\r\n    return (\r\n        <TableContainer className={classes.tableContainer} component={Paper} id={id}>\r\n            <Table className={classes.table} aria-label=\"custom pagination table\">\r\n                <TableBody>\r\n                    {(rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    ).map(row => {\r\n                        const isItemSelected = isSelected(row.index);\r\n                        const labelId = `enhanced-table-checkbox-${row.index}`;\r\n                        return <TableRow key={row.index}\r\n                            onClick={() => { setClickedIndex(row.index) }}\r\n                            selected={row.index === clickedIndex}\r\n                            hover\r\n                            classes={{ hover: classes.hover }}>\r\n                            <TableCell padding=\"checkbox\">\r\n                                <Checkbox\r\n                                    checked={isItemSelected}\r\n                                    inputProps={{ 'aria-labelledby': labelId }}\r\n                                    onClick={(event) => { handleClick(event, row.index); }}\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\" >\r\n                                <span className=\"trip-place-list-name\">{row.name}</span>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    })}\r\n                    {emptyRows > 0 && (\r\n                        <TableRow style={{ height: 53 * emptyRows }}>\r\n                            <TableCell colSpan={6} />\r\n                        </TableRow>\r\n                    )}\r\n                </TableBody>\r\n                <TableFooter>\r\n                    <TableRow>\r\n                        <TablePagination\r\n                            colSpan={3}\r\n                            count={rows.length}\r\n                            rowsPerPage={rowsPerPage}\r\n                            rowsPerPageOptions={[]}\r\n                            page={page}\r\n                            onChangePage={handleChangePage}\r\n                            onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                            ActionsComponent={TablePaginationActions}\r\n                        />\r\n                    </TableRow>\r\n                </TableFooter>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}","import React, { ReactElement, useState, useEffect } from 'react'\r\nimport TwMap from 'components/twmap/TwMap';\r\nimport SearchInput from 'components/searchfield/SearchInput';\r\nimport SearchList from 'components/searchfield/SearchList';\r\nimport TripPlaceList from 'components/selectedfield/TripPlaceList';\r\nimport Button from '@material-ui/core/Button';\r\nimport Counter from 'components/counter/Counter';\r\nimport * as mapApi from 'lib/mapApi';\r\nimport './mainpage.scss';\r\ninterface Props {\r\n\r\n}\r\n\r\nexport default function MainPage({ }: Props): ReactElement {\r\n    const [searchResult, setSearchResult] = useState<Object[]>([]);\r\n    const [clickedIndex, setClickedIndex] = useState<number>(-1);\r\n    const [searchSelected, setSearchSelected] = useState<number[]>([]);\r\n    const [tripPlaceList, setTripPlaceList] = useState<any[]>([]);\r\n    const [tripPlaceSelected, settripPlaceSelected] = useState<number[]>([]);\r\n    const [tpClickedIndex, setTpClickedIndex] = useState<number>(-1);\r\n    const [lines, setLines] = useState({} as any);\r\n\r\n    useEffect(() => {\r\n        setClickedIndex(-1);\r\n        setSearchSelected([]);\r\n    }, [searchResult]);\r\n    const handleButtonClick = () => {\r\n        let selectedList = [] as Object[];\r\n        tripPlaceList.forEach(element => {\r\n            selectedList.push(element);\r\n        });\r\n        searchResult.forEach((element, index) => {\r\n            if (searchSelected.indexOf(index) !== -1) {\r\n                selectedList.push(element);\r\n            }\r\n        })\r\n        setTripPlaceList(selectedList);\r\n        setSearchSelected([]);\r\n    }\r\n    const handleRemoveButtonClick = () => {\r\n        let newList = [] as Object[];\r\n        tripPlaceList.forEach((element, index) => {\r\n            if (tripPlaceSelected.indexOf(index) === -1) {\r\n                newList.push(element);\r\n            }\r\n        })\r\n        setTripPlaceList(newList);\r\n        settripPlaceSelected([]);\r\n    }\r\n    const handleDrawPath = () => {\r\n        // (Longitude, Latitude) 순서로 넣어줘야함\r\n        // const locations = [[126.961479, 37.477559], [126.987096, 37.493153], [127.015235, 37.488542], [127.032299, 37.506952]];\r\n        let locations: number[][] = [];\r\n        tripPlaceList.forEach(place => {\r\n            locations.push(place.geometry.coordinates);\r\n        })\r\n        drawPath(locations);\r\n    }\r\n    const drawPath = async (locations: number[][]) => {\r\n        const data = await mapApi.getTripRoute(locations);\r\n        let wayPoints = data.waypoints.map((element: any) => {\r\n            // osrm 리턴 값은 (lng, lat) 튜플인데 leaflet에서 표기할땐 (lat, lng) 튜플이므로 순서를 바꿔줌\r\n            const temp = element.location[0];\r\n            element.location[0] = element.location[1];\r\n            element.location[1] = temp;\r\n            return element;\r\n        })\r\n        // trips type : Array\r\n        console.log(\"다시계산\");\r\n        setLines(data.trips[0].geometry);\r\n        // setWayPoints(wayPoints);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TwMap\r\n                searchResult={searchResult}\r\n                placeList={tripPlaceList}\r\n                lines={lines}\r\n                clickedIndex={clickedIndex}\r\n                tpClickedIndex={tpClickedIndex} />\r\n            <SearchInput id=\"search-field\" setSearchResult={setSearchResult} />\r\n            <SearchList id='search-list'\r\n                searchResult={searchResult}\r\n                clickedIndex={clickedIndex}\r\n                setClickedIndex={setClickedIndex}\r\n                selected={searchSelected}\r\n                setSelected={setSearchSelected} />\r\n            <Button id=\"search-select-button\" variant=\"contained\" onClick={handleButtonClick}><span role=\"img\" aria-label=\"▼\">🔻</span>선택</Button>\r\n            <TripPlaceList id='trip-place-list'\r\n                tripPlaceList={tripPlaceList}\r\n                selected={tripPlaceSelected}\r\n                setSelected={settripPlaceSelected}\r\n                clickedIndex={tpClickedIndex}\r\n                setClickedIndex={setTpClickedIndex} />\r\n            <Button id=\"tp-remove-button\" variant=\"contained\" onClick={handleRemoveButtonClick}><span role=\"img\" aria-label=\"x\">❌</span>삭제</Button>\r\n            <Button id=\"tp-path-button\" variant=\"contained\" onClick={handleDrawPath}><span role=\"img\" aria-label=\"\">🚗</span>경로찾기</Button>\r\n            {/* <Counter></Counter> */}\r\n        </div>\r\n    )\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createAction , ActionType, createReducer } from 'typesafe-actions';\r\n\r\nconst INCREMENT = 'counter/INCREMENT';\r\nconst DECREMENT = 'counter/DECREMENT';\r\nconst INCREASE_BY = 'counter/INCREASE_BY';\r\n\r\nexport const increase = createAction(INCREMENT)();\r\nexport const decrease = createAction(DECREMENT)();\r\nexport const increaseBy = createAction(INCREASE_BY)<number>();\r\n// export const increaseBy = createAction(INCREASE_BY)().map((num:number)=>({payload : num}));\r\n\r\nconst actions = { increase, decrease, increaseBy };\r\ntype CounterAction = ActionType<typeof actions>;\r\n\r\ntype CounterState = {\r\n    count: number;\r\n}\r\nconst initialState: CounterState = {\r\n    count: 0\r\n};\r\n\r\nconst counter = createReducer<CounterState, CounterAction>(initialState, {\r\n    [INCREMENT] : state => ({ count : state.count + 1}),\r\n    [DECREMENT] : state => ({ count : state.count -1 }),\r\n    [INCREASE_BY] : (state, action) => ({count : state.count + action.payload})\r\n})\r\n\r\nexport default counter;","import { createAction, ActionType, createReducer } from 'typesafe-actions';\r\nimport * as mapApi from 'lib/mapApi';\r\n\r\nconst SEARCH_LOCATION = 'search/SEARCH_LOCATION';\r\n\r\nexport const searchLocation = createAction(\r\n    SEARCH_LOCATION,\r\n    (location: string) => (mapApi.getSearchResult(location)))();\r\n\r\nconst actions = { searchLocation };\r\ntype SearchAction = ActionType<typeof actions>;\r\n\r\ntype SearchState = {\r\n    searchResult: Promise<any>;\r\n}\r\n\r\nconst initialState: SearchState = {\r\n    searchResult: {} as Promise<any>\r\n}\r\n\r\nconst search = createReducer<SearchState, SearchAction>(initialState, {\r\n    [SEARCH_LOCATION]: (state, action) => ({ searchResult: action.payload })\r\n})\r\n\r\nexport default search;","import { combineReducers } from 'redux';\r\nimport counter from './counter';\r\nimport search from './search';\r\n\r\nconst rootReducer = combineReducers({\r\n  counter,\r\n  search\r\n});\r\n\r\nexport default rootReducer;\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from 'shared/App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from 'modules';\nimport { Provider } from 'react-redux';\n\nconst store = createStore(rootReducer, composeWithDevTools());\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { ReactElement } from 'react'\r\nimport { Route } from 'react-router-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport MainPage from 'pages/MainPage';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nexport default function App({ }: Props): ReactElement {\r\n    return (\r\n        <BrowserRouter>\r\n            <Route path=\"/\" component={MainPage} />\r\n        </BrowserRouter>\r\n    )\r\n}"],"sourceRoot":""}